@using ITCMS_HUIT.Client.Common;

<!DOCTYPE html>
<html lang="en">

<head>
	<title>Trung Tâm Tin Học 2H</title>
	<!-- HTML5 Shim and Respond.js IE11 support of HTML5 elements and media queries -->
	<!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
	<!--[if lt IE 11]>
		<script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
		<script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
		<![endif]-->
	<!-- Meta -->
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=0, minimal-ui">
	<meta http-equiv="X-UA-Compatible" content="IE=edge" />
	<meta name="description" content="Flash Able Bootstrap admin template made using Bootstrap 4 and it has huge amount of ready made feature, UI components, pages which completely fulfills any dashboard needs." />
	<meta name="keywords"
		content="admin templates, bootstrap admin templates, bootstrap 4, dashboard, dashboard templets, sass admin templets, html admin templates, responsive, bootstrap admin templates free download,premium bootstrap admin templates, Flash Able, Flash Able bootstrap admin template">
	<meta name="author" content="Codedthemes" />

	@* <!-- Favicon icon -->
	<link rel="icon" href="~/admin/assets/images/favicon.ico" type="image/x-icon"> *@

	<!-- Favicon icon -->
	<link rel="icon" href="~/images/favicon.ico" type="image/x-icon">
	<!-- fontawesome icon -->
	<link rel="stylesheet" href="~/admin/assets/fonts/fontawesome/css/fontawesome-all.min.css">
	<!-- animation css -->
	<link rel="stylesheet" href="~/admin/assets/plugins/animation/css/animate.min.css">

	<!-- vendor css -->
	<link rel="stylesheet" href="~/admin/assets/css/style.css">

	<!-- Thêm dòng này vào phần head của trang HTML của bạn -->
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/sweetalert2@11.1.6/dist/sweetalert2.min.css">

</head>

<body class="">
	<!-- [ Pre-loader ] start -->
	<div class="loader-bg">
		<div class="loader-track">
			<div class="loader-fill"></div>
		</div>
	</div>
	<!-- [ Pre-loader ] End -->

	<!-- [ navigation menu ] start -->
	<nav class="pcoded-navbar menupos-fixed menu-light brand-blue ">
		<div class="navbar-wrapper ">
			<div class="navbar-brand header-logo" style="background:revert-layer;">
				<a href="/Admin/trangchu" class="b-brand">
					<img src="~/images/logo-dark.png" alt="" class="logo images">
					@* <img src="~/admin/assets/images/logo.svg" alt="" class="logo images"> *@
					<img src="~/admin/assets/images/logo-icon.svg" alt="" class="logo-thumb images">
				</a>
				<a class="mobile-menu" id="mobile-collapse" href="#!"><span></span></a>
			</div>
			<div class="navbar-content scroll-div">
				<ul class="nav pcoded-inner-navbar">
					<li class="nav-item pcoded-menu-caption">
						<label>Navigation</label>
					</li>
					<li class="nav-item">
						<a href="/Admin/trangchu" class="nav-link"><span class="pcoded-micon"><i class="feather icon-home"></i></span><span class="pcoded-mtext">Dashboard</span></a>
					</li>
					<li class="nav-item pcoded-menu-caption">
						<label>UI Element</label>
					</li>
					<li class="nav-item pcoded-hasmenu">
						<a href="#!" class="nav-link"><span class="pcoded-micon"><i class="feather icon-box"></i></span><span class="pcoded-mtext">Danh Mục</span></a>
						<ul class="pcoded-submenu">
							<li class=""><a href="@Url.Action("Index", "KhoaHocs", new { area = "Admin" })" class="">Quản Lí Khóa Học</a></li>
							<li class=""><a href="@Url.Action("Index", "GiaoViens", new { area = "Admin" })" class="">Quản Lí Giáo Viên</a></li>
							@{
								var sessionTokenIdGiaoVien = ITCMS_HUIT.Client.Common.AppContext.Current!.Session.Get<string>("Token");
								var idGiaoVien = sessionTokenIdGiaoVien!.GetTeacherIdFromJwt();

								var userRoles = sessionTokenIdGiaoVien!.GetRolesFromJwt();
								var isAdmin = userRoles.Contains("Admin");
							}
							@if (!string.IsNullOrEmpty(idGiaoVien) && !isAdmin)
							{
								<li class=""><a href="@Url.Action("Index", "LopHocs", new { area = "Admin",id = idGiaoVien })" class="">Quản Lí Lớp Học</a></li>
							}
							else
							{
								<li class=""><a href="@Url.Action("IndexAdmin", "LopHocs", new { area = "Admin" })" class="">Quản Lí Lớp Học</a></li>
							}


							<li class=""><a href="@Url.Action("Index", "ThongTinHocViens", new { area = "Admin" })" class="">Quản Lí Thông Tin Học Viên</a></li>
							<li class=""><a href="@Url.Action("Index", "HocViens", new { area = "Admin" })" class="">Quản Lí Học Viên</a></li>
							<li class=""><a href="@Url.Action("Index", "CoSoDuLieus", new { area = "Admin" })" class="">Quản Lí Cơ Sở Dữ Liệu</a></li>
							<li class=""><a href="@Url.Action("Index", "Account", new { area = "Admin" })" class="">Quản Lí Người Dùng</a></li>
						</ul>
					</li>				
					<li class="nav-item pcoded-menu-caption">
						<label>Chart @* & Report *@</label>
					</li>
					<li class="nav-item">
						<a href="/Admin/Charts/Index" class="nav-link"><span class="pcoded-micon"><i class="feather icon-pie-chart"></i></span><span class="pcoded-mtext">Chart</span></a>
					</li>
					@* <li class="nav-item">
						<a href="/Admin/Reports/DanhSachGiaoVienReport" class="nav-link"><span class="pcoded-micon"><i class="feather icon-map"></i></span><span class="pcoded-mtext">Report</span></a>
					</li>	 *@									
				</ul>			
			</div>
		</div>
	</nav>
	<!-- [ navigation menu ] end -->

	<!-- [ Header ] start -->
	<header class="navbar pcoded-header navbar-expand-lg navbar-light headerpos-fixed">
		<div class="m-header">
			<a class="mobile-menu" id="mobile-collapse1" href="#!"><span></span></a>
			<a href="/Admin/trangchu" class="b-brand">
				@* <img src="~/admin/assets/images/logo.svg" alt="" class="logo images"> *@
				<img src="~/images/logo-dark.png" alt="" class="logo images">
				<img src="~/admin/assets/images/logo-icon.svg" alt="" class="logo-thumb images">
			</a>
		</div>
		<a class="mobile-menu" id="mobile-header" href="#!">
			<i class="feather icon-more-horizontal"></i>
		</a>
		<div class="collapse navbar-collapse">
			<a href="#!" class="mob-toggler"></a>
			<ul class="navbar-nav ml-auto">
				@{
					var sessionToken = ITCMS_HUIT.Client.Common.AppContext.Current!.Session.Get<string>("Token");
					var userName = sessionToken!.GetUserNameFromJwt();
				}
				@if(!string.IsNullOrEmpty(userName))
				{
					<li>
						<div class="dropdown drp-user">
							<a href="#" class="dropdown-toggle" data-toggle="dropdown">
								<i class="icon feather icon-settings"></i>
							</a>
							<div class="dropdown-menu dropdown-menu-right profile-notification">
								<div class="pro-head">
									<img src="~/admin/assets/images/user/avatar-1.jpg" class="img-radius" alt="User-Profile-Image">
									Welcome, <span>@userName.ToUpper()</span>
									<a href="/Admin/Auth/Logout" class="dud-logout" title="Logout">
										<i class="feather icon-log-out"></i>
									</a>
								</div>
								<ul class="pro-body">
									<li><a href="/Admin/Auth/ChangedPassword" class="dropdown-item"><i class="feather icon-key"></i>Thay đổi mật khẩu</a></li>
								</ul>
							</div>
						</div>
					</li>
				}
				
			</ul>
		</div>
	</header>
	<!-- [ Header ] end -->

	<div>
		@RenderBody();
	</div>

	<!-- [ Body ] end -->

	<!-- Required Js -->
	<script src="~/admin/assets/js/vendor-all.min.js"></script>
	<script src="~/admin/assets/plugins/bootstrap/js/bootstrap.min.js"></script>
	<script src="~/admin/assets/js/pcoded.min.js"></script>
	<script src="~/ckeditor/ckeditor.js"></script>
	<!-- Thêm dòng này ở cuối trang (trước thẻ đóng body) -->
	<script src="https://cdn.jsdelivr.net/npm/sweetalert2@11.1.6/dist/sweetalert2.all.min.js"></script>


</body>
</html>
